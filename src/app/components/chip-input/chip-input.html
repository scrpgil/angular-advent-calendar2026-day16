<div class="w-full max-w-sm p-6 bg-white rounded-2xl shadow-lg">
  <h3 class="mb-4 text-gray-900 font-semibold">タグ入力</h3>

  <div
    #chipsContainer
    class="flex flex-wrap gap-2 p-3 border-2 border-gray-200 rounded-lg focus-within:border-blue-500 transition-colors"
  >
    @for (chip of chips(); track chip; let i = $index) {
      <div
        data-chip
        class="flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full"
      >
        <span>{{ chip }}</span>
        <button
          (click)="removeChip(i)"
          (mouseenter)="onRemoveButtonHover($event, true)"
          (mouseleave)="onRemoveButtonHover($event, false)"
          (mousedown)="onRemoveButtonClick($event)"
          class="hover:bg-blue-200 rounded-full p-0.5 transition-colors"
        >
          <!-- X Icon -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-3 h-3"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M18 6 6 18" />
            <path d="m6 6 12 12" />
          </svg>
        </button>
      </div>
    }

    <input
      type="text"
      [value]="inputValue()"
      (input)="onInputChange($event)"
      (keydown)="onKeyDown($event)"
      placeholder="タグを入力してEnter"
      class="flex-1 min-w-[120px] outline-none text-gray-900 placeholder-gray-400"
    />
  </div>

  <p class="mt-2 text-gray-500 text-sm">
    Enterで追加、Backspaceで削除
  </p>
</div>
